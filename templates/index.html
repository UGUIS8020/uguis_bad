{% extends "base.html" %}
{% block content %}      
<section id="about" class="mt-5 mb-5 text-center">
    <h2 class="mb-3">バドミントンメンバー募集</h2>
    <p class="lead">初級者～上級者どなたでも参加できます<br>
        レベルが違っても楽しくゲームできる方<br>
    未経験者はご相談ください。<br>
                </p>
    
    <div class="row">
        <div>
            <h3>参加費</h3>
            <p>初回1000円、2回目以降 600円（学生300円）</p>
        </div>
        <div>
            <h3>練習場所</h3>
            <p>北越谷体育館 越谷市立地域スポーツセンター<br>
            〒343-0025 埼玉県越谷市大沢二丁目10番21号<br>
            北越谷駅東口 徒歩7分</p>
        </div>
    </div>
</section>
    <div class="container">       
        <section id="schedule" class="mb-5">
            <style>
                .schedule {
                  font-family: sans-serif;
                  max-width: 800px;
                  margin: 0 auto;
                }
                .schedule h1 {
                  color: #333;
                  margin-bottom: 20px;
                }
                .schedule h2 {
                  color: #444;
                  margin: 25px 0 15px;
                  padding-bottom: 5px;
                  border-bottom: 2px solid #eee;
                }
                .schedule ul {
                  list-style: none;
                  padding: 0;
                }
                .schedule li {
                  padding: 10px;
                  margin: 5px 0;
                  background-color: #f8f9fa;
                  border-radius: 4px;
                }
                .special-venue {
                  color: #2c5282;
                  font-weight: bold;
                }
              </style>
              </head>
              <body>
              <div class="schedule">
                <h1>練習予定</h1>
                
                <h2>2024年</h2>
                <ul>
                  <li>11月26日 火曜日 19:00-21:00 A面</li>
                  <li>11月28日 木曜日 19:00-21:00 B面</li>
                  <li>12月2日 月曜日 19:00-21:00 B面</li>
                  <li>12月5日 木曜日 19:00-21:00 B面</li>
                  <li>12月12日 木曜日 19:00-21:00 B面</li>
                  <li>12月15日 日曜日 17:00-19:00 B面</li>
                  <li>12月16日 月曜日 19:00-21:00 A面</li>
                  <li>12月19日 木曜日 19:00-21:00 A面</li>
                  <li>12月23日 月曜日 19:00-21:00 A面</li>
                  <li>12月26日 木曜日 19:00-21:00 A面</li>
                </ul>
              
                <h2>2025年</h2>
                <ul>
                  <li>1月5日 日曜日 17:00-19:00 A面</li>
                  <li>1月6日 月曜日 19:00-21:00 B面</li>
                  <li>1月9日 木曜日 19:00-21:00 B面</li>                  
                  <li>1月14日 火曜日 19:00-22:00 <span class="special-venue">越谷総合体育館 第1体育室</span></li>
                  <li>1月16日 木曜日 19:00-21:00 B面</li>
                  <li>1月20日 月曜日 19:00-21:00 A面</li>
                  <li>1月23日 木曜日 19:00-21:00 A面</li>
                  <li>2月8日 土曜日 18:00-22:00 <span class="special-venue">越谷総合体育館 第1体育室</span></li>
                </ul>    
                
                <h2>TEST</h2>
                <ul>
                  <li>1月5日 日曜日 17:00-19:00 A面</li>
                  <li>1月6日 月曜日 19:00-21:00 B面</li>
                  <li>1月9日 木曜日 19:00-21:00 B面</li>                  
                  <li>1月14日 火曜日 19:00-22:00 <span class="special-venue">越谷総合体育館 第1体育室</span></li>
                  <li>1月16日 木曜日 19:00-21:00 B面</li>
                  <li>1月20日 月曜日 19:00-21:00 A面</li>
                  <li>1月23日 木曜日 19:00-21:00 A面</li>
                  <li>2月8日 土曜日 18:00-22:00 <span class="special-venue">越谷総合体育館 第1体育室</span></li>
                </ul> 
                
                <table class="table table-striped">
                    <thead>
                        <tr>
                            <th>日付</th>
                            <th>曜日</th>
                            <th>開始時間</th>
                            <th>終了時間</th>
                            <th>会場</th>                           
                            
                        </tr>
                    </thead>
                    <tbody>
                        {% for schedule in schedules %}
                        <tr>
                            <td>{{ schedule.formatted_date }}</td>
                            <td>{{ schedule.day_of_week }}</td>
                            <td>{{ schedule.start_time }}</td>
                            <td>{{ schedule.end_time }}</td>
                            <td>{{ schedule.venue }}</td>                            
                            
                            <td>
                                <a href="{{ url_for('edit_schedule', schedule_id=schedule.schedule_id) }}" class="btn btn-secondary">変更</a>
                            </td>
                            <td>
                                <a href="{{ url_for('edit_schedule', schedule_id=schedule.schedule_id) }}" class="btn btn-secondary">削除</a>
                            </td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
                
                 
                                        
          
            

             

                <div class="bg-white rounded-lg shadow p-6">
                  <h1 class="text-2xl font-bold mb-6">練習スケジュール編集</h1>
              </div>
              
              <form method="post" class="p-4">
                  {{ form.hidden_tag() }}
                  
                  <!-- 日付 -->
                  <div class="mb-4">
                      {{ form.date.label(class="block mb-2 font-medium") }}
                      {{ form.date(class="w-full p-2 border rounded", required=true) }}
                      {% if form.date.errors %}
                          {% for error in form.date.errors %}
                              <p class="mt-1 text-sm text-red-500">{{ error }}</p>
                          {% endfor %}
                      {% endif %}
                  </div>
              
                  <!-- 曜日（自動入力） -->
                  <div class="mb-4">
                      {{ form.day_of_week.label(class="block mb-2 font-medium") }}
                      {{ form.day_of_week(class="w-full p-2 border rounded bg-gray-100", readonly=true) }}
                  </div>
              
                  <!-- 会場 -->
                  <div class="mb-4">
                      {{ form.venue.label(class="block mb-2 font-medium") }}
                      {{ form.venue(class="w-full p-2 border rounded", required=true) }}
                      {% if form.venue.errors %}
                          {% for error in form.venue.errors %}
                              <p class="mt-1 text-sm text-red-500">{{ error }}</p>
                          {% endfor %}
                      {% endif %}
                  </div>
              
                  <!-- 開始時間 -->
                  <div class="mb-4">
                      {{ form.start_time.label(class="block mb-2 font-medium") }}
                      {{ form.start_time(class="w-full p-2 border rounded", required=true) }}
                      {% if form.start_time.errors %}
                          {% for error in form.start_time.errors %}
                              <p class="mt-1 text-sm text-red-500">{{ error }}</p>
                          {% endfor %}
                      {% endif %}
                  </div>
              
                  <!-- 終了時間 -->
                  <div class="mb-4">
                      {{ form.end_time.label(class="block mb-2 font-medium") }}
                      {{ form.end_time(class="w-full p-2 border rounded", required=true) }}
                      {% if form.end_time.errors %}
                          {% for error in form.end_time.errors %}
                              <p class="mt-1 text-sm text-red-500">{{ error }}</p>
                          {% endfor %}
                      {% endif %}
                  </div>
              
                  <!-- 送信ボタン -->
                  <div class="flex justify-center pt-4">
                      <!-- {{ form.submit(class="px-8 py-3 text-xl font-extrabold tracking-wider text-white bg-blue-600 rounded-lg shadow-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transform transition-all duration-200 hover:scale-105") }} -->
                      {{ form.submit }}
                    </div>
              </form>
              
              <!-- 日付処理のJavaScript -->
              <script>
              document.addEventListener('DOMContentLoaded', function() {
                  const dateInput = document.getElementById('date');
                  const dayOfWeekInput = document.getElementById('day_of_week');
                  const startTimeSelect = document.getElementById('start_time');
                  const endTimeSelect = document.getElementById('end_time');
              
                  // 曜日の自動入力
                  function updateDayOfWeek() {
                      if (dateInput.value) {
                          const weekDays = ['日', '月', '火', '水', '木', '金', '土'];
                          const date = new Date(dateInput.value);
                          const dayOfWeek = weekDays[date.getDay()];
                          dayOfWeekInput.value = `${dayOfWeek}曜日`;
              
                          // 曜日に応じて背景色を変更（土日の場合）
                          if (date.getDay() === 0) { // 日曜日
                              dayOfWeekInput.classList.add('bg-red-50');
                              dayOfWeekInput.classList.remove('bg-blue-50', 'bg-gray-100');
                              dayOfWeekInput.style.color = '#E53E3E';  // 赤色テキスト
                          } else if (date.getDay() === 6) { // 土曜日
                              dayOfWeekInput.classList.add('bg-blue-50');
                              dayOfWeekInput.classList.remove('bg-red-50', 'bg-gray-100');
                              dayOfWeekInput.style.color = '#3182CE';  // 青色テキスト
                          } else { // 平日
                              dayOfWeekInput.classList.add('bg-gray-100');
                              dayOfWeekInput.classList.remove('bg-red-50', 'bg-blue-50');
                              dayOfWeekInput.style.color = '#2D3748';  // デフォルトの文字色
                          }
                      } else {
                          dayOfWeekInput.value = '';
                          dayOfWeekInput.classList.remove('bg-red-50', 'bg-blue-50');
                          dayOfWeekInput.classList.add('bg-gray-100');
                      }
                  }
              
                  // 日付入力時に曜日を自動更新
                  dateInput.addEventListener('change', updateDayOfWeek);
                  // ページ読み込み時に曜日を設定（既存の日付がある場合）
                  updateDayOfWeek();
              
                  // 開始時間が変更されたときの終了時間の更新
                  startTimeSelect.addEventListener('change', function() {
                      if (this.value) {
                          const selectedHour = parseInt(this.value.split(':')[0]);
                          
                          // 終了時間の選択肢を更新
                          endTimeSelect.innerHTML = '<option value="">選択してください</option>';
                          for (let i = selectedHour + 1; i <= 23; i++) {
                              const timeStr = `${i.toString().padStart(2, '0')}:00`;
                              const option = new Option(timeStr, timeStr);
                              endTimeSelect.add(option);
                          }
                      } else {
                          endTimeSelect.innerHTML = '<option value="">選択してください</option>';
                      }
                  });
              });
              </script>

             

              
                  

      </section>
      <section id="contact" class="mb-5">
        <h2 class="mb-3">連絡先</h2>
        <div class="d-flex flex-column gap-3 mb-4" >
            <a href="https://line.me/ti/p/gErDAMJEId" target="_blank" rel="noopener noreferrer" class="btn" style="background-color: #00B900; color: white; font-size: 1.5rem;"><b>LINEで連絡 ココをクリック</b></a>
            <!-- <img src="images/line.jpg" alt="LINEのQRコード" width="200" height="200" class="img-fluid" loading="lazy"> -->
        </div>

        <section class="mb-2 text-center">
        渋谷: <a href="tel:07066330363">070-6633-0363</a><br>
        e-mail: <a href="mailto:shibuyamasahiko@gmail.com">shibuyamasahiko@gmail.com</a>       
      </section>
        <section class="text-center">
          <a href="https://x.com/rbn17pjAfz41575" target="_blank" rel="noopener noreferrer" class="btn btn-primary me-2">X（旧Twitter）</a>
          <a href="https://www.instagram.com/kosigayabadminton/" target="_blank" rel="noopener noreferrer" class="btn btn-info">Instagram</a>
        </section>
    
        
      </section> 
        
        <!-- 中央寄せでレスポンシブ対応 -->
        <div class="text-center">
            <img src="/static/images/top.jpg" 
                 alt="画像の説明" 
                 class="img-fluid"
                 style="max-width: 100%; height: auto;">
        </div>
    </div>
{% endblock %}