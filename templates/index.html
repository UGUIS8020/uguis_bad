{% extends "base.html" %}
{% block content %}      
<section id="about" class="mt-5 mb-5 text-center">
    <h2 class="mb-3">バドミントンメンバー募集</h2>
    <p class="lead">初級者～上級者どなたでも参加できます<br>
        レベルが違っても楽しくゲームできる方<br>
    未経験者はご相談ください。<br>
                </p>
    
    <div class="row">
        <div>
            <h3>参加費</h3>
            <p>初回1000円、2回目以降 600円（学生300円）</p>
        </div>
        <div>
            <h3>練習場所</h3>
            <p>北越谷体育館 越谷市立地域スポーツセンター<br>
            〒343-0025 埼玉県越谷市大沢二丁目10番21号<br>
            北越谷駅東口 徒歩7分</p>
        </div>
    </div>
</section>
    <div class="container">       
        <section id="schedule" class="mb-5">
            <style>
                .schedule {
                  font-family: sans-serif;
                  max-width: 800px;
                  margin: 0 auto;
                }
                .schedule h1 {
                  color: #333;
                  margin-bottom: 20px;
                }
                .schedule h2 {
                  color: #444;
                  margin: 25px 0 15px;
                  padding-bottom: 5px;
                  border-bottom: 2px solid #eee;
                }
                .schedule ul {
                  list-style: none;
                  padding: 0;
                }
                .schedule li {
                  padding: 10px;
                  margin: 5px 0;
                  background-color: #f8f9fa;
                  border-radius: 4px;
                }
                .special-venue {
                  color: #2c5282;
                  font-weight: bold;
                }
              </style>
              </head>
              <body>
              <div class="schedule">
                <h1>練習予定</h1>
                
                <h2>2024年</h2>
                <ul>
                  <li>11月26日 火曜日 19:00-21:00 A面</li>
                  <li>11月28日 木曜日 19:00-21:00 B面</li>
                  <li>12月2日 月曜日 19:00-21:00 B面</li>
                  <li>12月5日 木曜日 19:00-21:00 B面</li>
                  <li>12月12日 木曜日 19:00-21:00 B面</li>
                  <li>12月15日 日曜日 17:00-19:00 B面</li>
                  <li>12月16日 月曜日 19:00-21:00 A面</li>
                  <li>12月19日 木曜日 19:00-21:00 A面</li>
                  <li>12月23日 月曜日 19:00-21:00 A面</li>
                  <li>12月26日 木曜日 19:00-21:00 A面</li>
                </ul>
              
                <h2>2025年</h2>
                <ul>
                  <li>1月5日 日曜日 17:00-19:00 A面</li>
                  <li>1月6日 月曜日 19:00-21:00 B面</li>
                  <li>1月9日 木曜日 19:00-21:00 B面</li>                  
                  <li>1月14日 火曜日 19:00-22:00 <span class="special-venue">越谷総合体育館 第1体育室</span></li>
                  <li>1月16日 木曜日 19:00-21:00 B面</li>
                  <li>1月20日 月曜日 19:00-21:00 A面</li>
                  <li>1月23日 木曜日 19:00-21:00 A面</li>
                  <li>2月8日 土曜日 18:00-22:00 <span class="special-venue">越谷総合体育館 第1体育室</span></li>
                </ul>       

                {% if current_user.is_authenticated and current_user.is_administrator %}     

                <div class="bg-white rounded-lg shadow p-6">
                  <h1 class="text-2xl font-bold mb-6">練習スケジュール編集</h1>
                </div>                  
                <form method="post" class="p-4">
                  <div class="mb-4">
                      <label for="date" class="block mb-2 font-medium">日付</label>
                      <input type="date" name="date" id="date" class="w-full p-2 border rounded" required>
                  </div>
              
                  <div class="mb-4">
                      <label for="dayOfWeek" class="block mb-2 font-medium">曜日</label>
                      <input type="text" name="dayOfWeek" id="dayOfWeek" class="w-full p-2 border rounded bg-gray-100" readonly>
                  </div>
              
                  <div class="mb-4">
                      <label for="venue" class="block mb-2 font-medium">会場</label>
                      <select name="venue" id="venue" class="w-full p-2 border rounded" required>
                          <option value="">選択してください</option>
                          <optgroup label="通常会場">
                              <option value="normal-a">北越谷 A面</option>
                              <option value="normal-b">北越谷 B面</option>
                          </optgroup>
                          <optgroup label="特別会場">
                              <option value="koshigaya">越谷総合体育館 第1体育室</option>
                              <option value="winghat">ウィングハット</option>
                          </optgroup>
                      </select>
                  </div>
              
                  <div class="mb-4">
                      <label for="startTime" class="block mb-2 font-medium">開始時間</label>
                      <select name="startTime" id="startTime" class="w-full p-2 border rounded" required>
                          <option value="">選択してください</option>
                          <option value="09:00">09:00</option>
                          <option value="10:00">10:00</option>
                          <option value="11:00">11:00</option>
                          <option value="12:00">12:00</option>
                          <option value="13:00">13:00</option>
                          <option value="14:00">14:00</option>
                          <option value="15:00">15:00</option>
                          <option value="16:00">16:00</option>
                          <option value="17:00">17:00</option>
                          <option value="18:00">18:00</option>
                          <option value="19:00">19:00</option>
                          <option value="20:00">20:00</option>
                          <option value="21:00">21:00</option>
                          <option value="22:00">22:00</option>
                      </select>
                  </div>
              
                  <div class="mb-4">
                      <label for="endTime" class="block mb-2 font-medium">終了時間</label>
                      <select name="endTime" id="endTime" class="w-full p-2 border rounded" required>
                          <option value="">選択してください</option>
                      </select>
                  </div>
              
                  <div class="flex justify-center pt-4">
                    <button type="submit" class="px-8 py-3 text-xl font-extrabold tracking-wider text-black bg-blue-600 rounded-lg shadow-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transform transition-all duration-200 hover:scale-105">
                        登録
                    </button>
                </div>
              </form>
              
              <script>
              // 日付から曜日を取得する関数
              function getJapaneseDayOfWeek(date) {
                  const days = ['日曜日', '月曜日', '火曜日', '水曜日', '木曜日', '金曜日', '土曜日'];
                  return days[date.getDay()];
              }
              
              // 日付入力時に曜日を自動設定
              document.getElementById('date').addEventListener('change', function() {
                  const selectedDate = new Date(this.value);
                  const dayOfWeek = getJapaneseDayOfWeek(selectedDate);
                  document.getElementById('dayOfWeek').value = dayOfWeek;
              });
              
              // 開始時間の選択に応じて終了時間の選択肢を制限
              document.getElementById('startTime').addEventListener('change', function() {
                  const startTime = this.value;
                  const endTimeSelect = document.getElementById('endTime');
                  const startHour = parseInt(startTime.split(':')[0]);
                  
                  endTimeSelect.innerHTML = '<option value="">選択してください</option>';
                  
                  for (let i = startHour + 1; i <= 23; i++) {
                      const timeStr = `${i.toString().padStart(2, '0')}:00`;
                      const option = new Option(timeStr, timeStr);
                      endTimeSelect.add(option);
                  }
              });
              
              // ページ読み込み時の初期設定
              window.addEventListener('load', function() {
                  const dateInput = document.getElementById('date');
                  if (dateInput.value) {
                      const selectedDate = new Date(dateInput.value);
                      const dayOfWeek = getJapaneseDayOfWeek(selectedDate);
                      document.getElementById('dayOfWeek').value = dayOfWeek;
                  }
              });
              
              // フォームデータを送信する前の処理
              document.querySelector('form').addEventListener('submit', function(e) {
                  e.preventDefault();
                  
                  // フォームデータの収集
                  const formData = {
                      date: document.getElementById('date').value,
                      dayOfWeek: document.getElementById('dayOfWeek').value,
                      venue: document.getElementById('venue').value,
                      startTime: document.getElementById('startTime').value,
                      endTime: document.getElementById('endTime').value,
                  };
              
                  // ここでバックエンドにデータを送信する処理を追加
                  console.log('送信データ:', formData);
              });
              </script>

              {% endif %}
                  

      </section>
      <section id="contact" class="mb-5">
        <h2 class="mb-3">連絡先</h2>
        <div class="d-flex flex-column gap-3 mb-4" >
            <a href="https://line.me/ti/p/gErDAMJEId" target="_blank" rel="noopener noreferrer" class="btn" style="background-color: #00B900; color: white; font-size: 1.5rem;"><b>LINEで連絡 ココをクリック</b></a>
            <!-- <img src="images/line.jpg" alt="LINEのQRコード" width="200" height="200" class="img-fluid" loading="lazy"> -->
        </div>

        <section class="mb-2 text-center">
        渋谷: <a href="tel:07066330363">070-6633-0363</a><br>
        e-mail: <a href="mailto:shibuyamasahiko@gmail.com">shibuyamasahiko@gmail.com</a>       
      </section>
        <section class="text-center">
          <a href="https://x.com/rbn17pjAfz41575" target="_blank" rel="noopener noreferrer" class="btn btn-primary me-2">X（旧Twitter）</a>
          <a href="https://www.instagram.com/kosigayabadminton/" target="_blank" rel="noopener noreferrer" class="btn btn-info">Instagram</a>
        </section>
    
        
      </section> 
        
        <!-- 中央寄せでレスポンシブ対応 -->
        <div class="text-center">
            <img src="/static/images/top.jpg" 
                 alt="画像の説明" 
                 class="img-fluid"
                 style="max-width: 100%; height: auto;">
        </div>
    </div>
{% endblock %}