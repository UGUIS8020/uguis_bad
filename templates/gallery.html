{% extends "base.html" %}
{% block content %}

     

            <div class="box4 col-9">
                <div>
                  <article>
                    {% for post in posts %}
                      <div class="box5 mt-2">    
                           
                        <h2>{{ post.title }}</h2>
                        <a href="/{{post.id}}/update" role="button">編集</a>
                        <a href="/{{post.id}}/delete" role="button">削除</a>
                        <p>カテゴリー: {{ post.category.name }}</p> 
                        <p>作成日時: {{ post.created_at.strftime('%Y-%m-%d %H:%M') }}</p>
                        <p>{{ post.body }}</p>
                      </div>
                      <div class="box6 mb-5"> 
                        {% if post.image_url %}                        
                        <img class="d-block mx-auto" src="{{ post.image_url }}" alt="Post Image" width="600" height="*">                        

                        {% endif %}
                      </div>
                      {% endfor %}
                  </article>
                </div>         
                
                <h1>新規登録</h1>
<form method="POST" enctype="multipart/form-data">

    <div>
        <label for="title">タイトル</label>
        <input type="text" name="title">
    </div>
    
    <div>
        <label for="body">内容</label>
        <textarea name="body" id="body" rows="10" cols="50"></textarea> <!-- テキストエリアに変更 --> 
    </div>

    <div>
        <label for="image">画像</label>  <!-- 画像アップロード用のフィールドを追加 -->
        <input type="file" name="image" id="image">
    </div>

    <div>
    <label for="category">カテゴリー</label>  <!-- カテゴリー選択用のラジオボタンを追加 -->
    </div>

    <div>
        {% for category in categories %}
            <input type="radio" id="category_{{ category.id }}" name="category_id" value="{{ category.id }}">
            <label for="category_{{ category.id }}">{{ category.name }}</label><br>
        {% endfor %}
    </div>
    
    <input type="submit" value="新規登録">
</form>
                 

{% endblock %}